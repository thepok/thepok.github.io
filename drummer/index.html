<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Drummer — Kid‑Friendly Drum Machine</title>
    <meta
      name="description"
      content="A tiny kid-friendly drum machine: tap squares, set beats-per-second, hit start, and loop."
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:wght@400;700&family=Fredoka:wght@500;700&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div class="bg">
      <div class="grain" aria-hidden="true"></div>
    </div>

    <main class="wrap">
      <header class="top">
        <div class="brand">
          <div class="logo" aria-hidden="true">
            <span class="dot d1"></span><span class="dot d2"></span><span class="dot d3"></span>
          </div>
          <div>
            <h1>Drummer</h1>
            <p class="sub">Tap squares. Hit start. Loop forever.</p>
          </div>
        </div>

        <section class="controls" aria-label="Playback controls">
          <button id="togglePlay" class="btn primary" type="button">
            <span class="btnIcon" aria-hidden="true">▶</span>
            <span class="btnText">Start</span>
          </button>

          <div class="selectBox" role="group" aria-label="Preset">
            <label class="label" for="soundSet">Preset</label>
            <select id="soundSet" class="select">
              <option value="classic">Classic (Synth)</option>
              <option value="toy">Toy (Synth)</option>
              <option value="arcade">Arcade (Synth)</option>
              <option value="recorded">My Kit (Recorded)</option>
            </select>
            <div class="miniHint">Use this as the default for new rows.</div>
          </div>

          <div class="tempo" role="group" aria-label="Tempo">
            <label class="label" for="bps">
              Speed <span class="hint">(beats/sec)</span>
            </label>
            <div class="tempoRow">
              <input id="bps" type="range" min="0.5" max="6" step="0.1" value="2" />
              <input id="bpsNumber" type="number" min="0.5" max="6" step="0.1" value="2" />
            </div>
            <div class="tempoMeta">
              <span class="meta" id="bpmLabel">120 bpm</span>
              <span class="meta">•</span>
              <span class="meta">16 steps</span>
            </div>
          </div>

          <div class="rowBtns">
            <button id="addRow" class="btn" type="button">Add row</button>
            <button id="clear" class="btn" type="button">Clear</button>
          </div>
        </section>
      </header>

      <section class="panel" aria-label="Drum grid">
        <div class="gridHeader">
          <div class="gridLegend">
            <span class="pill">Tip: use headphones</span>
            <span class="pill">Space = start/stop</span>
          </div>
        </div>
        <div class="gridScroll" aria-label="Step sequencer">
          <table id="grid" class="seq"></table>
        </div>
      </section>

      <section class="panel recorderPanel" aria-label="Recorder">
        <div class="recHead">
          <div>
            <h2>Recorder</h2>
            <p class="recSub">Record your own sounds and save them as a new “My Kit” instrument.</p>
          </div>
          <div class="recStatus" id="recStatus">Mic: not ready</div>
        </div>

        <div class="recGrid">
          <div class="recBtns">
            <button id="micEnable" class="btn" type="button">Enable mic</button>
            <button id="recStart" class="btn primary" type="button">
              <span class="btnIcon" aria-hidden="true">●</span>
              <span class="btnText">Record</span>
            </button>
            <button id="recStop" class="btn" type="button" disabled>Stop</button>
            <button id="recPlay" class="btn" type="button" disabled>Play trim</button>
          </div>

          <div class="trim" aria-label="Trim">
            <div class="waveWrap">
              <canvas id="wave" class="wave" width="900" height="160"></canvas>
              <div class="waveHint">Drag the handles to trim</div>
            </div>
            <div class="trimRow">
              <label class="label" for="trimStart">Start (sec)</label>
              <div class="trimInputs">
                <input id="trimStart" type="range" min="0" max="1" step="0.01" value="0" disabled />
                <input id="trimStartNum" type="number" min="0" max="999" step="0.01" value="0" disabled />
              </div>
            </div>
            <div class="trimRow">
              <label class="label" for="trimEnd">End (sec)</label>
              <div class="trimInputs">
                <input id="trimEnd" type="range" min="0" max="1" step="0.01" value="1" disabled />
                <input id="trimEndNum" type="number" min="0" max="999" step="0.01" value="1" disabled />
              </div>
            </div>
            <div class="trimMeta" id="trimMeta">No recording yet</div>
          </div>

          <div class="saveRow" aria-label="Save sample">
            <label class="label" for="saveTo">Save as</label>
            <div class="saveInputs">
              <select id="saveTo" class="select" disabled>
                <option value="kick">Kick</option>
                <option value="snare">Snare</option>
                <option value="hat">Hi‑Hat</option>
                <option value="perc">Perc</option>
              </select>
              <button id="saveSample" class="btn" type="button" disabled>Save to My Kit</button>
              <button id="clearKit" class="btn" type="button">Clear My Kit</button>
            </div>
          </div>
        </div>
      </section>

      <footer class="foot">
        <p>
          This page is 100% static. Sounds are synthesized (and optionally recorded) with Web Audio.
        </p>
      </footer>
    </main>

    <script src="./drummer.js"></script>
  </body>
</html>
